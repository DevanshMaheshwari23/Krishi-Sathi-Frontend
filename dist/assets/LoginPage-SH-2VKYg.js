import{c as b,u as v,a as y,b as S,r as p,j as e,T as k,z as t,B as E,L}from"./index-DguWN4vU.js";import{u as C,a as P,o as z,s as u}from"./zod-DQ1auG_0.js";import{a as W}from"./api-CjXNmGHq.js";import{I as j}from"./Input-RXoSGTuU.js";import{W as A,L as F,E as I}from"./wheat-Da6g1RNx.js";import{M as T}from"./mail-CwAkgUFa.js";import{E as M}from"./eye-BehaAQu1.js";const B=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K=b("shield-check",B),R=z({email:u().email("Enter a valid email"),password:u().min(6,"Password must be at least 6 characters")}),G=()=>{const a=v(),r=y(),{login:i}=S(),[f,d]=p.useState(!1),[o,w]=p.useState(!1),{register:m,handleSubmit:g,formState:{errors:x}}=C({resolver:P(R)}),N=async l=>{d(!0);const h=t.loading("Signing you in...");try{const s=await W.post("/auth/login",l);i(s.data.user,s.data.token),t.success("Welcome back",{id:h});const c=r.state?.from??"/dashboard";a(c,{replace:!0})}catch(s){const c=s;t.error(c.response?.data?.message||"Login failed",{id:h})}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen px-4 py-10 sm:px-6",children:e.jsxs("div",{className:"mx-auto grid w-full max-w-6xl gap-8 lg:grid-cols-2",children:[e.jsxs("section",{className:"hero-panel relative overflow-hidden px-8 py-10",children:[e.jsx("div",{className:"grid-overlay absolute inset-0"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"pill bg-white/20 text-white border-white/30",children:"Krishi Sathi Access"}),e.jsx("h1",{className:"mt-5 text-4xl font-extrabold leading-tight text-white md:text-5xl",children:"Welcome back to a smarter farming workflow"}),e.jsx("p",{className:"mt-4 max-w-xl text-white/90",children:"Track market movement, create crop listings, and receive practical AI guidance from one place."}),e.jsxs("div",{className:"mt-10 space-y-4 text-white/95",children:[e.jsx(n,{icon:e.jsx(k,{className:"h-5 w-5"}),title:"Data-led decisions",text:"Read trend signals before pricing your crops."}),e.jsx(n,{icon:e.jsx(A,{className:"h-5 w-5"}),title:"Farmer-first marketplace",text:"Connect directly with buyers and reduce middlemen friction."}),e.jsx(n,{icon:e.jsx(K,{className:"h-5 w-5"}),title:"Secure account handling",text:"Session and auth persistence with protected routes."})]})]})]}),e.jsxs("section",{className:"surface-card p-6 sm:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-semibold text-soft",children:"Account sign in"}),e.jsx("h2",{className:"mt-2 text-3xl font-bold",children:"Sign in"}),e.jsx("p",{className:"mt-1 text-muted",children:"Use your account credentials to continue."})]}),e.jsxs("form",{onSubmit:g(N),className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"pointer-events-none absolute left-3 top-10 h-4 w-4 text-soft"}),e.jsx(j,{type:"email",label:"Email",placeholder:"you@example.com",className:"pl-10",error:x.email?.message,...m("email")})]}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"pointer-events-none absolute left-3 top-10 h-4 w-4 text-soft"}),e.jsx(j,{type:o?"text":"password",label:"Password",placeholder:"••••••••",className:"pl-10 pr-10",error:x.password?.message,...m("password")}),e.jsx("button",{type:"button",onClick:()=>w(l=>!l),className:"absolute right-3 top-10 text-soft hover:text-[var(--text)]","aria-label":o?"Hide password":"Show password",children:o?e.jsx(I,{className:"h-4 w-4"}):e.jsx(M,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsx("button",{type:"button",className:"font-semibold text-[var(--primary)] hover:underline",onClick:()=>t("Password reset flow will be added soon",{icon:"ℹ️"}),children:"Forgot password?"})}),e.jsx(E,{type:"submit",loading:f,fullWidth:!0,children:"Sign in"})]}),e.jsxs("p",{className:"mt-6 text-sm text-muted",children:["New to Krishi Sathi?"," ",e.jsx(L,{to:"/register",className:"font-semibold text-[var(--primary)] hover:underline",children:"Create account"})]})]})]})})},n=({icon:a,title:r,text:i})=>e.jsxs("div",{className:"flex items-start gap-3 rounded-[var(--radius-md)] bg-white/10 p-3 backdrop-blur-sm",children:[e.jsx("span",{className:"mt-0.5",children:a}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:r}),e.jsx("p",{className:"text-sm text-white/85",children:i})]})]});export{G as LoginPage};
